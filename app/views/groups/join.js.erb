<%if @group.type == :private %>
  <%if @group.unapprove_members.include?(current_person)%>
	    $("#alert").html("<%=j render :partial => 'home/alert', locals: {alert: 'Your request sended. Please wait for the leader accept this request'} %>");
	    $("#<%= @group.id %>").find(".btn-join-group").text("REQUEST SENDED");
	    $("#<%= @group.id %>").find(".btn-join-small").text("SENDED");
      $(".<%= @group.id %>").find('span').text("SENDED")
      $(".<%= @group.id %>").find("i").removeClass("fa-plus c_white mr5")
  <%else%>
	    $("#alert").html("<%=j render :partial => 'home/alert', locals: {alert: 'Your request canceled!'} %>");
	    $("#<%= @group.id %>").find(".btn-join-small").text("JOIN");
	    $("#<%= @group.id %>").find(".btn-join-small").text("JOIN");
      $(".<%= @group.id %>").find("i").addClass("fa-plus c_white mr5");
      $(".<%= @group.id %>").find('span').text("JOIN");
  <%end%>
<%else%>
  <%if @group.members.include?(current_person)%>
		$("#<%= @group.id %>").find(".btn-join-small").removeClass("btn-join-small").addClass("btn-leave-small btn-joined").text("JOINED");
    $("#<%= @group.id %>").find(".btn-join-group").text("REQUEST SENDED");
    $(".<%= @group.id %>").removeClass("btn-join-small").addClass("btn-leave-small btn-joined").find('span').text("")
    $(".<%= @group.id %>").find("i").removeClass("fa-plus c_white mr5").addClass("fa-check");
  <%else%>
    $(".<%= @group.id %>").removeClass("btn-leave-small btn-joined").addClass("btn-join-small").find('span').text("JOIN")
    $(".<%= @group.id %>").find("i").removeClass("fa-check").addClass("fa-plus c_white mr5");
 	 	$("#<%= @group.id %>").find(".btn-joined").removeClass("btn-joined btn-leave-small").addClass("btn-join-small s12").text("JOIN");
  <%end%>
  $("#group-box-info").html("<%=j render :partial => 'groups/group_info', :locals => { group: @group} %>");
<%end%>